---
marp: true
theme: lab_default
paginate: true
math: true
style: | 
    :root {
        --color-background: #fff;
        --color-foreground: #333;
        --color-highlight: #3F9877;
        --color-dimmed: #888;
    }
    table {
    border-spacing: 0;
    border-collapse: collapse;
    margin: 1em 0 0; }
    table th,
    table td {
        padding: 0.2em 0.4em;
        border-width: 1px;
        border-style: solid; }
    th {
    text-align: center;
    color: #fff;
    background-color: #333;
    }
    tr {
    text-align: right;
    }
---
<!-- _class: lead -->
# 推薦システムのアルゴリズム
永田　靖・棟近雅彦
研究ゼミ第2回（2022/5/9）
B4 柳智也

---
## __目次__

#### 目的：推薦システムの概要と協調フィルタリングを理解する

目次
1. 回帰分析とは
2. 最小二乗法による回帰式の推定
3. 寄与率・自由度調整済寄与率による回帰式の評価
4. 回帰係数の検定・区間推定
5. 残差・テコ比を用いた回帰式の妥当性の検討
6. 得られた回帰式による予測

---
<!--
_footer: 1.回帰分析とは
-->

## 1.回帰分析とは
- $x$ と $y$ について、__直線的な関係を前提として__ 解析する方法

- この時、$x$ を __説明変数__、$y$ を __目的変数__ と呼び、
説明変数が1つだけの時の解析方法を __単回帰分析__ という

- 先に観測できる値、設定できる値に基づいて変数 $y$ を制御したり、予測することが回帰分析の目的

---
<!--
_footer: 2.最小2乗法による回帰式の推定
-->

## 2.最小2乗法による回帰式の推定

単回帰モデルは次のように表される

$$
\begin{aligned}
y_i = β_0 + β_1x_i + ε_i \\
ε_i 〜 N(0, σ^2) 
\end{aligned}
$$

- 誤差 $ε_i$ は互いに独立に $N(0, σ^2)$ に従うと仮定
- 回帰母数 $β_0$, $β_1$を最小2乗法により推定する
- $\hat{y}$に対して、 $\bar{y}$ 
- $y_{ii}$みたいな行列形式もいけるよ
- $x^2$　

$\hat{y} = \hat{β_i}$

---
<!--
_header: 1.1 線形計画モデル
-->

## 1.1.1 生産計画問題

変数に関する 1 次の等式や不等式で与えられた制約条件のもとで
変数の 1 次関数を最大化 (または最小化)する問題を__線形計画問題__ という

---
<!--
_header: 1.1 線形計画モデル
-->

## 1.1.1 生産計画問題
問題を簡潔に表現するため, $\bm{x}, \bm{A}, \bm{b}, \bm{c}$ を以下で定義すると, 

<script type="text/x-mathjax-config">
 MathJax.Hub.Config({
 tex2jax: {
 inlineMath: [["$","$"], ["\\(","\\)"]],
 displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
 }
 });
</script>

<div class="grid grid-cols-2">

<div>

$$
\begin{aligned}
\bm{x} &= \begin{pmatrix}x_1 \\ x_2 \\ x_3 \end{pmatrix}\\
\bm{A} &= \begin{pmatrix} 
            5 & 0 & 6\\
            0 & 2 & 8\\
            7 & 0 & 15\\
            3 & 11 & 0
        \end{pmatrix}
\end{aligned}
$$

</div>

<div>

$$
\begin{aligned}
\bm{b} &= \begin{pmatrix}80\\ 50\\ 100\\ 70 \end{pmatrix}\\
\bm{c} &= \begin{pmatrix}70\\ 120\\ 30 \end{pmatrix}
\end{aligned}
$$

</div>

</div>


------
<!--
_header: 1.1 線形計画モデル
-->

## 1.1.1 生産計画問題

<div class="grid grid-rows-3">

<div>

生産計画問題は次のように書ける.

</div>

<div class="row-start-2 row-span-2">

$$
\begin{aligned}
\text{目的関数: } 
    &\bm{c}^T \bm{x} \rightarrow \text{最大}\\
\text{制約条件: } 
    &\bm{A}\bm{x} \leqq \bm{b}\\
    &\bm{x} \geqq \bm{0}
\end{aligned}
$$

</div>

</div>

---
<!--
_header: 1.1 線形計画モデル
-->
## 1.1.2 多期間計画問題

- 原料 A, B を加工して, 製品 Ⅰ, Ⅱ を製造している工場が向こう 3 カ月の生産計画を立てようとしている.
- 各月に余った製品は次月に持ち越される.

---
<!--
_header: 1.1 線形計画モデル
-->
## 1.1.2 多期間計画問題

- 原料 A, B を加工して, 製品 Ⅰ, Ⅱ を製造している工場が向こう 3 カ月の生産計画を立てようとしている.
- 各原料の利用可能量は月毎に決まっている.
- 各製品の出荷量は月毎に決まっている.
- 各製品の生産コストと在庫コストは各月を通して一定である.
- 3 カ月間にかかるコストを最小にするには月毎に各製品を何単位ずつ生産すればよいだろうか?

---
<!--
_header: 1.1 線形計画モデル
-->

<style>
table, th, td {
    font-size: 12pt;
}
</style>

## 1.1.2 多期間計画問題

<div class="grid grid-cols-3">

<div>

### 1 月

|        | Ⅰ   | Ⅱ   | 利用可能量 |
| ------ | --- | --- | ---------- |
| A      | 2   | 7   | 920        |
| B      | 5   | 3   | 790        |
| 出荷量 | 30  | 20  |            |

- hogehoge
- あああああ

</div>

<div>

### 2 月 
|        | Ⅰ   | Ⅱ   | 利用可能量 |
| ------ | --- | --- | ---------- |
| A      | 2   | 7   | 750        |
| B      | 5   | 3   | 600        |
| 出荷量 | 60  | 50  |            |

</div>

<div>

### 3 月
|        | Ⅰ   | Ⅱ   | 利用可能量 |
| ------ | --- | --- | ---------- |
| A      | 2   | 7   | 500        |
| B      | 5   | 3   | 480        |
| 出荷量 | 80  | 90  |            |

</div>

</div>

---
<!--
_header: 1.1 線形計画モデル
-->
## 1.1.3 輸送問題

---
<!--
_header: 1.2 ネットワーク計画モデル
-->
## 1.2.1 グラフとネットワーク

---
<!--
_header: 1.2 ネットワーク計画モデル
-->
## 1.2.2 最短路問題

---
<!--
_header: 1.2 ネットワーク計画モデル
-->
## 1.2.3 最大流問題と最小費用流問題

---
<!--
_header: 1.3 非線形計画モデル
-->
## 1.3.1 資源配分問題

---
<!--
_header: 1.3 非線形計画モデル
-->
## 1.3.2 ポートフォリオ選択問題

---
<!--
_header: 1.3 非線形計画モデル
-->
## 1.3.3 交通流割当問題

---
<!--
_header: 1.4 組み合わせ計画モデル
-->
## 1.4.1 生産計画問題

---
<!--
_header: 1.5 組み合わせ計画モデル
-->
## 1.4.2 固定費付き輸送問題

---
<!--
_header: 1.5 組み合わせ計画モデル
-->
## 1.4.3 ナップサック問題

---
<!--
_header: 1.5 組み合わせ計画モデル
-->

<style>
table {
    margin-left: auto;
    margin-right: auto;
    width: 50%;
    height: 40%;
}
</style>

## 1.4.4 0-1 変数についての補足




---
<!--
_header: 1.5 数理計画問題
-->
## 1.5 数理計画問題

---
## 参考文献
- 福島雅夫. 新版 数理計画入門. 第 7 版. 朝倉書店, 2017, 203p.
- 筧三郎. 工科系 線形代数 [新訂版]. 新訂版. 数理工学社, 2018, 221p.

---

## Appendix

- 線形写像
- 写像
- 線形空間

---
<!--
_header: Appendix
-->
## __線形写像__ ってなんだっけ

- 線形空間 $\bm{V}$ から 線形空間 $\bm{W}$ への写像 $f$ が以下の性質を持つ時, $f$ は __線形写像__ という.
1. $f(\bm{x_1}+\bm{x_2}) = f(\bm{x_1}) + f(\bm{x_2})$
2. $f(k\bm{x}) = kf(\bm{x})$

- 特に $\bm{V} = \bm{W}$ の時, $f$を __線形変換__ または __1次変換__ という.

---
<!--
_header: Appendix
-->
## __写像__ ってなんすか:confused:

---
## __線形空間__ ってなんだっけ

---
